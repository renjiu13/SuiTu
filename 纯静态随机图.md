GitHubå­˜å‚¨é™æ€èµ„æºï¼Œä½¿ç”¨ (Cloudflare Free ç‰ˆ) Cloudflare Pagesæ¥å‘å¸ƒé¡µé¢ï¼Œéœ€è¦ä¸€ä¸ªç”»å»Šã€‚
è‡ªå®šä¹‰åŸŸååå‚æ•° `/h` `/v` `/all` ã€‚å¯ä»¥éšæœºè¿”å›GitHubå­˜å‚¨é™æ€èµ„æºä¸­çš„å›¾ç‰‡ã€‚

GitHubå­˜å‚¨é™æ€èµ„æºè¦æ±‚æ ¸å¿ƒè‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆé€»è¾‘ä¸å˜ï¼‰ã€‚è‡ªåŠ¨åˆ¤æ–­æ¨ªç«–å±æ”¾åˆ°åˆç†ä½ç½®ã€‚è½¬æ¢åŸå§‹å›¾ç‰‡ä¸ºwebpï¼Œåˆ é™¤åŸå§‹å›¾ç‰‡ã€‚ç”Ÿæˆé…å¥—ç”»å»Šé¡µé¢ã€‚æ–¹ä¾¿é¢„è§ˆå…¨éƒ¨å›¾ç‰‡ç´ æã€‚

éœ€è¦æœ¬åœ°å…ˆè¿è¡Œä¸‹æ ¸å¿ƒè‡ªåŠ¨åŒ–è„šæœ¬ï¼Œæœ¬åœ°å®Œæˆåï¼Œæ‰‹åŠ¨æ¨é€GitHubã€‚Cloudflare Pagesä¼šè‡ªåŠ¨éƒ¨ç½²ã€‚

### å®Œæ•´è½åœ°æ–¹æ¡ˆï¼ˆæœ¬åœ°è„šæœ¬å¤„ç† + GitHubæ¨é€ + Cloudflare Pageséƒ¨ç½²ï¼‰
ä»¥ä¸‹æ˜¯**å¯ç›´æ¥æ‰§è¡Œ**çš„å…¨å¥—æ–¹æ¡ˆï¼ŒåŒ…å«ç›®å½•ç»“æ„ã€æ ¸å¿ƒè„šæœ¬ã€Cloudflareé…ç½®ã€ç”»å»Šé¡µé¢ï¼Œå®Œå…¨åŒ¹é…ä½ çš„éœ€æ±‚ï¼š

## ä¸€ã€æœ€ç»ˆç›®å½•ç»“æ„ï¼ˆä¸¥æ ¼æŒ‰ä½ çš„è¦æ±‚ï¼‰
```
SuiTu/
â”œâ”€â”€ README.md
â”œâ”€â”€ build/                  # æ ¸å¿ƒè‡ªåŠ¨åŒ–è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ package.json        # è„šæœ¬ä¾èµ–é…ç½®
â”‚   â””â”€â”€ process-images.js   # å›¾ç‰‡å¤„ç†ä¸»è„šæœ¬ï¼ˆæ ¸å¿ƒï¼‰
â”œâ”€â”€ .gitignore              # Gitå¿½ç•¥è§„åˆ™
â”œâ”€â”€ raw/                    # ã€ç”¨æˆ·æ‰‹åŠ¨æ”¾å›¾ã€‘åŸå§‹å›¾ç‰‡ç›®å½•ï¼ˆæ··åˆæ¨ªç«–å±ï¼‰
â”œâ”€â”€ img/                    # Cloudflare Pagesè¾“å‡ºç›®å½•ï¼ˆè„šæœ¬è‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ h/                  # è‡ªåŠ¨ç”Ÿæˆï¼šæ¨ªå±WebPå›¾ç‰‡
â”‚   â”œâ”€â”€ v/                  # è‡ªåŠ¨ç”Ÿæˆï¼šç«–å±WebPå›¾ç‰‡
â”‚   â”œâ”€â”€ image-list.json     # è‡ªåŠ¨ç”Ÿæˆï¼šå›¾ç‰‡æ¸…å•ï¼ˆä¾›API/ç”»å»Šç”¨ï¼‰
â”‚   â””â”€â”€ index.html          # è‡ªåŠ¨ç”Ÿæˆï¼šç”»å»Šé¢„è§ˆé¡µé¢
â””â”€â”€ functions/              # Cloudflare Pagesè¾¹ç¼˜å‡½æ•°ï¼ˆå¤„ç†/h/v/allï¼‰
    â”œâ”€â”€ h.js
    â”œâ”€â”€ v.js
    â””â”€â”€ all.js
```

## äºŒã€æ­¥éª¤1ï¼šåˆå§‹åŒ–æœ¬åœ°é¡¹ç›®
### 1. åˆ›å»ºç›®å½•å¹¶åˆå§‹åŒ–è„šæœ¬ä¾èµ–
```bash
# 1. åˆ›å»ºé¡¹ç›®æ ¹ç›®å½•
mkdir SuiTu && cd SuiTu

# 2. åˆ›å»ºå­ç›®å½•
mkdir -p build raw img/h img/v functions

# 3. è¿›å…¥buildç›®å½•ï¼Œåˆå§‹åŒ–Node.jsé¡¹ç›®ï¼ˆè„šæœ¬ä¾èµ–ï¼‰
cd build
npm init -y
# å®‰è£…å›¾ç‰‡å¤„ç†æ ¸å¿ƒä¾èµ–ï¼ˆsharpï¼šå¤„ç†å›¾ç‰‡/åˆ¤æ¨ªç«–å±/è½¬WebPï¼‰
npm install sharp
cd ..
```

### 2. ç¼–å†™.gitignoreï¼ˆé¿å…æäº¤å†—ä½™æ–‡ä»¶ï¼‰
åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º`.gitignore`ï¼Œå†…å®¹å¦‚ä¸‹ï¼š
```
# Node.jsä¾èµ–ï¼ˆæœ¬åœ°è„šæœ¬ç”¨ï¼Œæ— éœ€æäº¤ï¼‰
build/node_modules/
build/package-lock.json

# ä¸´æ—¶æ–‡ä»¶
.DS_Store
Thumbs.db

# åŸå§‹å›¾ç‰‡ç›®å½•ï¼ˆè„šæœ¬å¤„ç†åä¼šæ¸…ç©ºï¼Œæ— éœ€æäº¤ï¼‰
raw/*
!raw/.gitkeep  # ä¿ç•™ç©ºç›®å½•çš„å ä½æ–‡ä»¶

# æ—¥å¿—/ç¼“å­˜
*.log
```
> å¯é€‰ï¼šåœ¨`raw/`ç›®å½•åˆ›å»ºç©ºæ–‡ä»¶`.gitkeep`ï¼Œç¡®ä¿Gitèƒ½è¿½è¸ªç©ºçš„rawç›®å½•ã€‚

## ä¸‰ã€æ­¥éª¤2ï¼šç¼–å†™æ ¸å¿ƒè‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆæœ¬åœ°è¿è¡Œï¼‰
### 1. build/package.jsonï¼ˆè„šæœ¬ä¾èµ–é…ç½®ï¼‰
```json
{
  "name": "image-processor",
  "version": "1.0.0",
  "description": "å¤„ç†å›¾ç‰‡å¹¶ç”Ÿæˆç”»å»Š/æ¸…å•",
  "main": "process-images.js",
  "scripts": {
    "process": "node process-images.js"
  },
  "dependencies": {
    "sharp": "^0.33.2"
  }
}
```

### 2. build/process-images.jsï¼ˆæ ¸å¿ƒå¤„ç†è„šæœ¬ï¼‰
åŠŸèƒ½ï¼šéå†rawç›®å½•â†’åˆ¤æ¨ªç«–å±â†’è½¬WebPâ†’åˆ†ç±»å­˜å…¥img/h/img/vâ†’åˆ é™¤åŸå›¾â†’ç”Ÿæˆå›¾ç‰‡æ¸…å•â†’ç”Ÿæˆç”»å»Šé¡µé¢ã€‚
```javascript
const sharp = require('sharp');
const fs = require('fs/promises');
const path = require('path');

// ===================== é…ç½®é¡¹ï¼ˆå¯è‡ªå®šä¹‰ï¼‰ =====================
const CONFIG = {
  rawDir: path.join(__dirname, '../raw'), // åŸå§‹å›¾ç‰‡ç›®å½•
  outputDir: path.join(__dirname, '../img'), // è¾“å‡ºæ ¹ç›®å½•
  hDir: path.join(__dirname, '../img/h'), // æ¨ªå±è¾“å‡ºç›®å½•
  vDir: path.join(__dirname, '../img/v'), // ç«–å±è¾“å‡ºç›®å½•
  webpQuality: 80, // WebPå‹ç¼©è´¨é‡ï¼ˆ1-100ï¼‰
  imageListPath: path.join(__dirname, '../img/image-list.json'), // å›¾ç‰‡æ¸…å•è·¯å¾„
  galleryPath: path.join(__dirname, '../img/index.html'), // ç”»å»Šé¡µé¢è·¯å¾„
  allowedExts: ['jpg', 'jpeg', 'png', 'gif', 'bmp'] // æ”¯æŒçš„åŸå§‹å›¾ç‰‡æ ¼å¼
};

// ===================== å·¥å…·å‡½æ•° =====================
// ç”Ÿæˆ3ä½éšæœºæ–‡ä»¶åï¼ˆ000.webp ~ fff.webpï¼‰
function generateRandomFileName() {
  const randomStr = Math.random().toString(16).slice(2, 5).padStart(3, '0');
  return `${randomStr}.webp`;
}

// åˆ¤æ–­å›¾ç‰‡æ¨ªç«–å±ï¼ˆå®½>é«˜=æ¨ªå±hï¼Œå®½<=é«˜=ç«–å±vï¼‰
async function getImageOrientation(filePath) {
  try {
    const metadata = await sharp(filePath).metadata();
    const width = metadata.width || 0;
    const height = metadata.height || 0;
    return width > height ? 'h' : 'v';
  } catch (err) {
    console.error(`è·å–å›¾ç‰‡ä¿¡æ¯å¤±è´¥ ${filePath}ï¼š`, err);
    return 'h'; // å¼‚å¸¸æ—¶é»˜è®¤å½’ä¸ºæ¨ªå±
  }
}

// ç”Ÿæˆç”»å»Šé¡µé¢HTML
function generateGalleryHTML(hList, vList, allList) {
  return `
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å›¾ç‰‡ç”»å»Š</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 1200px; margin: 0 auto; }
    .tabs { margin-bottom: 20px; }
    .tab-btn { 
      padding: 8px 16px; margin-right: 8px; border: none; border-radius: 4px;
      background: #007cff; color: white; cursor: pointer;
    }
    .tab-btn.active { background: #0056b3; }
    .gallery { 
      display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 15px;
    }
    .img-card { border: 1px solid #eee; border-radius: 8px; overflow: hidden; }
    .img-card img { width: 100%; height: 200px; object-fit: cover; }
    .img-card .type { padding: 8px; text-align: center; font-size: 12px; color: #666; }
    .hidden { display: none; }
    .count { margin: 10px 0; color: #666; }
  </style>
</head>
<body>
  <h1>å›¾ç‰‡ç”»å»Š</h1>
  <div class="count">æ€»å›¾ç‰‡æ•°ï¼š${allList.length}ï¼ˆæ¨ªå±ï¼š${hList.length} | ç«–å±ï¼š${vList.length}ï¼‰</div>
  <div class="tabs">
    <button class="tab-btn active" onclick="switchTab('all')">å…¨éƒ¨</button>
    <button class="tab-btn" onclick="switchTab('h')">æ¨ªå±</button>
    <button class="tab-btn" onclick="switchTab('v')">ç«–å±</button>
  </div>

  <!-- å…¨éƒ¨å›¾ç‰‡ -->
  <div id="all-tab" class="gallery">
    ${allList.map((img, idx) => {
      const type = img.includes('/h/') ? 'æ¨ªå±' : 'ç«–å±';
      return `
      <div class="img-card">
        <img src="${img}" alt="å›¾ç‰‡${idx+1}" loading="lazy">
        <div class="type">${type}</div>
      </div>
    `;
    }).join('')}
  </div>

  <!-- æ¨ªå±å›¾ç‰‡ -->
  <div id="h-tab" class="gallery hidden">
    ${hList.map((img, idx) => `
      <div class="img-card">
        <img src="${img}" alt="æ¨ªå±å›¾ç‰‡${idx+1}" loading="lazy">
        <div class="type">æ¨ªå±</div>
      </div>
    `).join('')}
  </div>

  <!-- ç«–å±å›¾ç‰‡ -->
  <div id="v-tab" class="gallery hidden">
    ${vList.map((img, idx) => `
      <div class="img-card">
        <img src="${img}" alt="ç«–å±å›¾ç‰‡${idx+1}" loading="lazy">
        <div class="type">ç«–å±</div>
      </div>
    `).join('')}
  </div>

  <script>
    // ç”»å»Šæ ‡ç­¾åˆ‡æ¢é€»è¾‘
    function switchTab(tabName) {
      // éšè—æ‰€æœ‰æ ‡ç­¾
      document.querySelectorAll('.gallery').forEach(el => el.classList.add('hidden'));
      // æ¿€æ´»å½“å‰æ ‡ç­¾
      document.getElementById(`${tabName}-tab`).classList.remove('hidden');
      // åˆ‡æ¢æŒ‰é’®æ ·å¼
      document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
    }
  </script>
</body>
</html>
  `;
}

// ===================== ä¸»å¤„ç†é€»è¾‘ =====================
async function processImages() {
  try {
    // 1. ç¡®ä¿ç›®æ ‡ç›®å½•å­˜åœ¨
    await fs.mkdir(CONFIG.hDir, { recursive: true });
    await fs.mkdir(CONFIG.vDir, { recursive: true });

    // 2. è¯»å–rawç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
    let rawFiles = [];
    try {
      rawFiles = await fs.readdir(CONFIG.rawDir);
    } catch (err) {
      console.error('rawç›®å½•ä¸å­˜åœ¨ï¼Œå·²åˆ›å»ºç©ºç›®å½•ï¼š', err);
      await fs.mkdir(CONFIG.rawDir, { recursive: true });
      return;
    }

    // 3. è¿‡æ»¤å‡ºæ”¯æŒçš„å›¾ç‰‡æ–‡ä»¶
    const imageFiles = rawFiles.filter(file => {
      const ext = file.split('.').pop()?.toLowerCase();
      return CONFIG.allowedExts.includes(ext);
    });

    if (imageFiles.length === 0) {
      console.log('rawç›®å½•ä¸­æ— æœ‰æ•ˆå›¾ç‰‡æ–‡ä»¶');
      return;
    }

    // 4. å¤„ç†æ¯å¼ å›¾ç‰‡ï¼ˆåˆ¤æ–¹å‘â†’è½¬WebPâ†’åˆ†ç±»å­˜å‚¨â†’åˆ åŸå›¾ï¼‰
    const hFiles = []; // æ¨ªå±å›¾ç‰‡è·¯å¾„åˆ—è¡¨
    const vFiles = []; // ç«–å±å›¾ç‰‡è·¯å¾„åˆ—è¡¨
    for (const file of imageFiles) {
      const rawPath = path.join(CONFIG.rawDir, file);
      const orientation = await getImageOrientation(rawPath);
      const targetDir = orientation === 'h' ? CONFIG.hDir : CONFIG.vDir;
      const newFileName = generateRandomFileName();
      const outputPath = path.join(targetDir, newFileName);

      // è½¬æ¢ä¸ºWebPå¹¶ä¿å­˜
      await sharp(rawPath)
        .webp({ quality: CONFIG.webpQuality })
        .toFile(outputPath);
      console.log(`å¤„ç†å®Œæˆï¼š${file} â†’ ${orientation}/${newFileName}`);

      // è®°å½•å›¾ç‰‡è·¯å¾„ï¼ˆä¾›æ¸…å•/ç”»å»Šç”¨ï¼‰
      const relativePath = `/${orientation}/${newFileName}`;
      orientation === 'h' ? hFiles.push(relativePath) : vFiles.push(relativePath);

      // åˆ é™¤åŸå§‹å›¾ç‰‡
      await fs.unlink(rawPath);
      console.log(`å·²åˆ é™¤åŸå›¾ï¼š${file}`);
    }

    // 5. ç”Ÿæˆå›¾ç‰‡æ¸…å•JSON
    const allFiles = [...hFiles, ...vFiles];
    const imageList = { h: hFiles, v: vFiles, all: allFiles };
    await fs.writeFile(CONFIG.imageListPath, JSON.stringify(imageList, null, 2));
    console.log(`ç”Ÿæˆå›¾ç‰‡æ¸…å•ï¼š${CONFIG.imageListPath}`);

    // 6. ç”Ÿæˆç”»å»Šé¡µé¢
    const galleryHTML = generateGalleryHTML(hFiles, vFiles, allFiles);
    await fs.writeFile(CONFIG.galleryPath, galleryHTML);
    console.log(`ç”Ÿæˆç”»å»Šé¡µé¢ï¼š${CONFIG.galleryPath}`);

    console.log('\nâœ… æ‰€æœ‰å›¾ç‰‡å¤„ç†å®Œæˆï¼');
    console.log(`ğŸ“Š ç»Ÿè®¡ï¼šæ¨ªå±${hFiles.length}å¼  | ç«–å±${vFiles.length}å¼  | æ€»è®¡${allFiles.length}å¼ `);

  } catch (err) {
    console.error('\nâŒ å¤„ç†å¤±è´¥ï¼š', err);
  }
}

// æ‰§è¡Œä¸»é€»è¾‘
processImages();
```

## å››ã€æ­¥éª¤3ï¼šç¼–å†™Cloudflare Pagesè¾¹ç¼˜å‡½æ•°ï¼ˆå¤„ç†/h/v/allï¼‰
åœ¨é¡¹ç›®æ ¹ç›®å½•çš„`functions/`ç›®å½•ä¸‹åˆ›å»º3ä¸ªæ–‡ä»¶ï¼Œå®ç°â€œè®¿é—®è·¯å¾„éšæœºè¿”å›å›¾ç‰‡â€ï¼š

### 1. functions/h.jsï¼ˆæ¨ªå±éšæœºå›¾ï¼‰
```javascript
export async function onRequestGet(context) {
  try {
    // è¯»å–å›¾ç‰‡æ¸…å•
    const listResp = await context.env.ASSETS.fetch('/image-list.json');
    if (!listResp.ok) throw new Error('å›¾ç‰‡æ¸…å•ä¸å­˜åœ¨');
    
    const { h } = await listResp.json();
    if (h.length === 0) return new Response('æ— æ¨ªå±å›¾ç‰‡', { status: 404 });
    
    // éšæœºé€‰ä¸€å¼ 
    const randomImg = h[Math.floor(Math.random() * h.length)];
    // 302é‡å®šå‘åˆ°å›¾ç‰‡ï¼ˆCFä¼šè‡ªåŠ¨ç¼“å­˜ï¼‰
    return Response.redirect(randomImg, 302);
  } catch (err) {
    return new Response(`è·å–å¤±è´¥ï¼š${err.message}`, { status: 500 });
  }
}
```

### 2. functions/v.jsï¼ˆç«–å±éšæœºå›¾ï¼‰
```javascript
export async function onRequestGet(context) {
  try {
    const listResp = await context.env.ASSETS.fetch('/image-list.json');
    if (!listResp.ok) throw new Error('å›¾ç‰‡æ¸…å•ä¸å­˜åœ¨');
    
    const { v } = await listResp.json();
    if (v.length === 0) return new Response('æ— ç«–å±å›¾ç‰‡', { status: 404 });
    
    const randomImg = v[Math.floor(Math.random() * v.length)];
    return Response.redirect(randomImg, 302);
  } catch (err) {
    return new Response(`è·å–å¤±è´¥ï¼š${err.message}`, { status: 500 });
  }
}
```

### 3. functions/all.jsï¼ˆå…¨éƒ¨éšæœºå›¾ï¼‰
```javascript
export async function onRequestGet(context) {
  try {
    const listResp = await context.env.ASSETS.fetch('/image-list.json');
    if (!listResp.ok) throw new Error('å›¾ç‰‡æ¸…å•ä¸å­˜åœ¨');
    
    const { all } = await listResp.json();
    if (all.length === 0) return new Response('æ— å›¾ç‰‡', { status: 404 });
    
    const randomImg = all[Math.floor(Math.random() * all.length)];
    return Response.redirect(randomImg, 302);
  } catch (err) {
    return new Response(`è·å–å¤±è´¥ï¼š${err.message}`, { status: 500 });
  }
}
```

## äº”ã€æ­¥éª¤4ï¼šæœ¬åœ°è¿è¡Œè„šæœ¬å¤„ç†å›¾ç‰‡
### 1. æ”¾å…¥åŸå§‹å›¾ç‰‡
å°†éœ€è¦å¤„ç†çš„å›¾ç‰‡ï¼ˆä»»æ„æ ¼å¼ï¼‰å¤åˆ¶åˆ°`raw/`ç›®å½•ä¸‹ã€‚

### 2. è¿è¡Œå¤„ç†è„šæœ¬
```bash
# è¿›å…¥buildç›®å½•
cd build
# è¿è¡Œè„šæœ¬ï¼ˆè‡ªåŠ¨å¤„ç†å›¾ç‰‡+ç”Ÿæˆç”»å»Š+æ¸…å•ï¼‰
npm run process
```
> è¿è¡ŒæˆåŠŸåï¼š
> - `raw/`ç›®å½•çš„åŸå›¾ä¼šè¢«åˆ é™¤ï¼›
> - `img/h/`/`img/v/`ä¼šç”ŸæˆWebPæ ¼å¼çš„åˆ†ç±»å›¾ç‰‡ï¼›
> - `img/`ä¸‹ä¼šç”Ÿæˆ`image-list.json`ï¼ˆå›¾ç‰‡æ¸…å•ï¼‰å’Œ`index.html`ï¼ˆç”»å»Šé¡µé¢ï¼‰ã€‚

## å…­ã€æ­¥éª¤5ï¼šæ¨é€åˆ°GitHubå¹¶éƒ¨ç½²Cloudflare Pages
### 1. æäº¤ä»£ç åˆ°GitHub
```bash
# å›åˆ°é¡¹ç›®æ ¹ç›®å½•
cd ..
# åˆå§‹åŒ–Gitä»“åº“
git init
git add .
git commit -m "åˆå§‹åŒ–å›¾ç‰‡ç”»å»Š+éšæœºå›¾API"
# å…³è”GitHubä»“åº“ï¼ˆéœ€å…ˆåœ¨GitHubåˆ›å»ºç©ºä»“åº“ï¼‰
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/SuiTu.git
git push -u origin main
```

### 2. Cloudflare Pageséƒ¨ç½²ï¼ˆå…è´¹ç‰ˆï¼‰
1. ç™»å½•Cloudflareåå° â†’ å·¦ä¾§ã€ŒPagesã€â†’ ã€Œåˆ›å»ºé¡¹ç›®ã€ï¼›
2. é€‰æ‹©ã€Œè¿æ¥åˆ°Gitã€â†’ æ‰¾åˆ°ä½ çš„`SuiTu`ä»“åº“ â†’ ã€Œå¼€å§‹è®¾ç½®ã€ï¼›
3. æ„å»ºé…ç½®ï¼ˆå…³é”®ï¼ï¼‰ï¼š
   - æ„å»ºå‘½ä»¤ï¼š`echo "No build needed"`ï¼ˆè„šæœ¬å·²æœ¬åœ°å¤„ç†å®Œé™æ€æ–‡ä»¶ï¼‰ï¼›
   - è¾“å‡ºç›®å½•ï¼š`img`ï¼ˆåŒ¹é…ä½ çš„è¾“å‡ºç›®å½•ï¼‰ï¼›
   - ç¯å¢ƒå˜é‡ï¼šæ— éœ€é…ç½®ï¼›
4. ç‚¹å‡»ã€Œä¿å­˜å¹¶éƒ¨ç½²ã€ï¼Œç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆçº¦1åˆ†é’Ÿï¼‰ã€‚

### 3. ç»‘å®šè‡ªå®šä¹‰åŸŸå
1. éƒ¨ç½²å®Œæˆåï¼Œè¿›å…¥é¡¹ç›® â†’ ã€Œè‡ªå®šä¹‰åŸŸã€â†’ ã€Œæ·»åŠ è‡ªå®šä¹‰åŸŸã€ï¼›
2. è¾“å…¥ä½ çš„åŸŸåï¼ˆå¦‚`img.yourdomain.com`ï¼‰ï¼›
3. æŒ‰Cloudflareæç¤ºé…ç½®DNSè§£æï¼ˆè‡ªåŠ¨ç”Ÿæˆè§£æè®°å½•ï¼Œå¤åˆ¶åˆ°åŸŸåæœåŠ¡å•†å³å¯ï¼‰ï¼›
4. ç­‰å¾…SSLè¯ä¹¦ç­¾å‘ï¼ˆçº¦5åˆ†é’Ÿï¼‰ï¼Œå®ŒæˆååŸŸåå³å¯è®¿é—®ã€‚

## ä¸ƒã€æœ€ç»ˆè®¿é—®æ•ˆæœ
| è®¿é—®è·¯å¾„                | æ•ˆæœ                          |
|-------------------------|-------------------------------|
| `https://ä½ çš„åŸŸå/`     | æ‰“å¼€ç”»å»Šé¡µé¢ï¼ˆå¯åˆ‡æ¢æ¨ªç«–å±ï¼‰  |
| `https://ä½ çš„åŸŸå/h`    | éšæœºè¿”å›ä¸€å¼ æ¨ªå±WebPå›¾ç‰‡      |
| `https://ä½ çš„åŸŸå/v`    | éšæœºè¿”å›ä¸€å¼ ç«–å±WebPå›¾ç‰‡      |
| `https://ä½ çš„åŸŸå/all`  | éšæœºè¿”å›ä¸€å¼ ä»»æ„æ–¹å‘çš„å›¾ç‰‡    |

## å…«ã€åç»­ç»´æŠ¤ï¼ˆæ–°å¢å›¾ç‰‡ï¼‰
1. å°†æ–°å›¾ç‰‡æ”¾å…¥æœ¬åœ°`raw/`ç›®å½•ï¼›
2. è¿è¡Œ`cd build && npm run process`å¤„ç†ï¼›
3. æäº¤ä»£ç ï¼š`git add . && git commit -m "æ–°å¢å›¾ç‰‡" && git push`ï¼›
4. Cloudflare Pagesä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²ï¼ˆçº¦1åˆ†é’Ÿï¼‰ï¼Œæ— éœ€é¢å¤–æ“ä½œã€‚

## å¯è¡Œæ€§&ä¼˜åŒ–è¯´æ˜
1. **å®Œå…¨é€‚é…CFå…è´¹ç‰ˆ**ï¼šè¾¹ç¼˜å‡½æ•°é€»è¾‘è½»é‡ï¼ˆæ‰§è¡Œæ—¶é—´<10msï¼‰ï¼Œå¸¦å®½æ¯æœˆ100GBè¶³å¤Ÿä¸ªäººä½¿ç”¨ï¼›
2. **æ€§èƒ½ä¼˜åŒ–**ï¼šWebPæ ¼å¼æ¯”åŸå›¾ä½“ç§¯å‡å°‘50%+ï¼Œç”»å»Šå›¾ç‰‡æ‡’åŠ è½½ï¼ŒCFè‡ªåŠ¨ç¼“å­˜å›¾ç‰‡ï¼›
3. **æ‰©å±•æ€§**ï¼šå¯åœ¨`CONFIG`ä¸­è°ƒæ•´WebPå‹ç¼©è´¨é‡ã€ç”»å»Šæ ·å¼ï¼Œæˆ–æ–°å¢å›¾ç‰‡å°ºå¯¸é™åˆ¶ç­‰é€»è¾‘ï¼›
4. **é£é™©è§„é¿**ï¼šæœ¬åœ°å¤„ç†å›¾ç‰‡ï¼Œé¿å…GitHubä»“åº“ä½“ç§¯è¿‡å¤§ï¼ˆä»…å­˜WebPå‹ç¼©å›¾ï¼‰ã€‚

è¿™å¥—æ–¹æ¡ˆå¼€ç®±å³ç”¨ï¼ŒæŒ‰æ­¥éª¤æ“ä½œå³å¯å®Œæˆå…¨éƒ¨éƒ¨ç½²ï¼Œå¦‚éœ€è°ƒæ•´ç”»å»Šæ ·å¼ã€å›¾ç‰‡å‹ç¼©è´¨é‡æˆ–éšæœºé€»è¾‘ï¼Œå¯ç›´æ¥ä¿®æ”¹å¯¹åº”é…ç½®/ä»£ç ã€‚